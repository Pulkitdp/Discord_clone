(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{74:function(e,c,n){},75:function(e,c,n){},76:function(e,c,n){},77:function(e,c,n){},86:function(e,c,n){},87:function(e,c,n){},88:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){"use strict";n.r(c);var a=n(2),s=n.n(a),t=n(24),i=n.n(t),r=(n(74),n(75),n(36)),l=(n(76),n(44)),o=n.n(l),d=n(51),j=n.n(d),h=(n(77),n(28)),b=Object(h.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),u=b.actions.setChannelInfo,m=function(e){return e.app.channelId},O=function(e){return e.app.channelName},p=b.reducer,x=n(17),f=n(3);var v=function(e){var c=e.id,n=e.channelName,a=Object(x.b)();return Object(f.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(u({channelId:c,channelName:n}))},children:Object(f.jsxs)("h4",{children:[Object(f.jsx)("span",{className:"sidebarChannel_hash",children:"#"}),n]})})},g=n(52),N=n.n(g),_=n(53),I=n.n(_),S=n(54),C=n.n(S),w=n(106),y=n(57),k=n.n(y),D=n(55),z=n.n(D),E=n(56),B=n.n(E),H=Object(h.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),L=H.actions,W=L.login,A=L.logout,K=function(e){return e.user.user},M=H.reducer,J=n(30),P=J.a.initializeApp({apiKey:"AIzaSyCLmVEwpDP1K_153L21b3WviUXLmzkRxaE",authDomain:"discord-clone-dp.firebaseapp.com",projectId:"discord-clone-dp",storageBucket:"discord-clone-dp.appspot.com",messagingSenderId:"199913126808",appId:"1:199913126808:web:eae461c34e953c8be9c9ed",measurementId:"G-JBNK4W4NSK"}).firestore(),T=J.a.auth(),U=new J.a.auth.GoogleAuthProvider,V=P;var F=function(){var e=Object(x.c)(K),c=Object(a.useState)([]),n=Object(r.a)(c,2),s=n[0],t=n[1];return Object(a.useEffect)((function(){V.collection("channels").onSnapshot((function(e){t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsxs)("div",{className:"sidebar__top",children:[Object(f.jsx)("h3",{children:"Discord Clone"}),Object(f.jsx)(o.a,{})]}),Object(f.jsxs)("div",{className:"sidebar_channels",children:[Object(f.jsxs)("div",{className:"sidebar_channelsHeader",children:[Object(f.jsxs)("div",{className:"sidebar_header",children:[Object(f.jsx)(o.a,{}),Object(f.jsx)("h4",{children:"Text Channels"})]}),Object(f.jsx)(j.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&V.collection("channels").add({channelName:e})},className:"sidebar_addchannel"})]}),Object(f.jsx)("div",{className:"sidebar_channelList",children:s.map((function(e){var c=e.id,n=e.channel;return Object(f.jsx)(v,{id:c,channelName:n.channelName},c)}))})]}),Object(f.jsxs)("div",{className:"sidebar_voice",children:[Object(f.jsx)(N.a,{className:"sidebar_voiceIcon",fontSize:"large"}),Object(f.jsxs)("div",{className:"sidebar_voiceInfo",children:[Object(f.jsx)("h3",{children:"Voice Connected"}),Object(f.jsx)("p",{children:"Stream"})]}),Object(f.jsxs)("div",{className:"sidebar_voiceIcons",children:[Object(f.jsx)(I.a,{}),Object(f.jsx)(C.a,{})]})]}),Object(f.jsxs)("div",{className:"sidebar_profile",children:[Object(f.jsx)(w.a,{onClick:function(){return T.signOut()},src:e.photo}),Object(f.jsxs)("div",{className:"sidebar_profileInfo",children:[Object(f.jsx)("h3",{children:e.displayName}),Object(f.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(f.jsxs)("div",{className:"sidebar_profileIcons",children:[Object(f.jsx)(z.a,{}),Object(f.jsx)(B.a,{}),Object(f.jsx)(k.a,{})]})]})]})},G=(n(86),n(87),n(58)),R=n.n(G),X=n(59),$=n.n(X),q=n(60),Q=n.n(q),Y=n(61),Z=n.n(Y),ee=n(62),ce=n.n(ee),ne=n(63),ae=n.n(ne);var se=function(e){var c=e.channelName;return Object(f.jsxs)("div",{className:"chatHeader",children:[Object(f.jsx)("div",{className:"chatHeader_left",children:Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"chatHeader_hash",children:"#"}),c]})}),Object(f.jsxs)("div",{className:"chatHeader_right",children:[Object(f.jsx)(R.a,{}),Object(f.jsx)($.a,{}),Object(f.jsx)(Q.a,{}),Object(f.jsxs)("div",{className:"chatHeader_search",children:[Object(f.jsx)("input",{placeholder:"Search"}),Object(f.jsx)(Z.a,{})]}),Object(f.jsx)(ce.a,{}),Object(f.jsx)(ae.a,{})]})]})},te=n(64),ie=n.n(te),re=n(65),le=n.n(re),oe=n(66),de=n.n(oe),je=n(67),he=n.n(je);n(88);var be=function(e){var c=e.timestamp,n=e.message,a=e.user;return Object(f.jsxs)("div",{className:"message",children:[Object(f.jsx)(w.a,{src:a.photo}),Object(f.jsxs)("div",{className:"message_info",children:[Object(f.jsxs)("h4",{children:[a.displayName,Object(f.jsx)("span",{className:"message_timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(f.jsx)("p",{children:n})]})]})};var ue=function(){var e=Object(x.c)(K),c=Object(x.c)(m),n=Object(x.c)(O),s=Object(a.useState)(""),t=Object(r.a)(s,2),i=t[0],l=t[1],o=Object(a.useState)([]),d=Object(r.a)(o,2),j=d[0],h=d[1];return Object(a.useEffect)((function(){c&&V.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return h(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)(se,{channelName:n}),Object(f.jsx)("div",{className:"chatMessages",children:j.map((function(e){return Object(f.jsx)(be,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(f.jsxs)("div",{className:"chatInput",children:[Object(f.jsx)(ie.a,{}),Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{value:i,disabled:!c,onChange:function(e){return l(e.target.value)},placeholder:"Message #".concat(n)}),Object(f.jsx)("button",{disabled:!c,className:"chatButton",type:"submit",onClick:function(n){n.preventDefault(),V.collection("channels").doc(c).collection("messages").add({timestamp:J.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),l("")},children:"Send Message"})]}),Object(f.jsxs)("div",{className:"chat_inputIcons",children:[Object(f.jsx)(le.a,{fontSize:"large"}),Object(f.jsx)(de.a,{fontSize:"large"}),Object(f.jsx)(he.a,{fontSize:"large"})]})]})]})},me=n(105);n(89);var Oe=function(){return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("div",{className:"login_logo",children:Object(f.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/9/98/Discord_logo.svg/1024px-Discord_logo.svg.png",alt:"Discord"})}),Object(f.jsx)(me.a,{onClick:function(){T.signInWithPopup(U).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var pe=function(){var e=Object(x.c)(K),c=Object(x.b)();return Object(a.useEffect)((function(){T.onAuthStateChanged((function(e){c(e?W({uid:e.uid,photo:e.photoURL,email:e.email,displayName:e.displayName}):A())}))}),[c]),Object(f.jsx)("div",{className:"app",children:e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(F,{}),Object(f.jsx)(ue,{})]}):Object(f.jsx)(Oe,{})})},xe=Object(h.a)({reducer:{user:M,app:p}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(x.a,{store:xe,children:Object(f.jsx)(pe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[90,1,2]]]);
//# sourceMappingURL=main.4fd799dc.chunk.js.map